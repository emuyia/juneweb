{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <div class="flashes" id="anchor-flash">
      {% for category, message in messages %}
        <p
          class="mt-3 {% if category in ['warning', 'danger', 'error'] %}shake-horizontal{% else %}shake-vertical{% endif %}"
        >
          {{ message }}
        </p>
      {% endfor %}
    </div>
    <script>
      window.addEventListener("DOMContentLoaded", (event) => {
        const anchor = document.getElementById("anchor-flash");
        if (anchor) {
          window.scrollTo(0, anchor.offsetTop);
        }
      });
    </script>
  {% endif %}
{% endwith %}
