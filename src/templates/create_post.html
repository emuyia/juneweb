{% extends "base.html" %}

{% block content %}
<h2>Create New Post</h2>
<form method="post">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
    <div class="mb-3">
        <label for="title">Title</label>
        <input type="text" class="form-control" name="title" id="title" required />
    </div>
    <div class="mb-3">
        <label for="editor">Content</label>
        <div id="editor">
            <textarea style="display:none;" name="content"></textarea>
        </div>
    </div>
    <div class="mb-3">
        <label for="status">Status</label>
        <select class="form-control" name="status" id="status">
            <option value="draft" selected>Draft</option>
            <option value="published">Published</option>
        </select>
    </div>
    <button type="submit" class="btn btn-primary">Save</button>
</form>

<!-- Include Editor.md CSS and JS -->
<link rel="stylesheet" href="{{ url_for('static', filename='editor.md/css/editormd.min.css') }}" />
<script src="{{ url_for('static', filename='editor.md/editormd.min.js') }}"></script>

<script type="text/javascript">
    var editor = editormd("editor", {
        width: "100%",
        height: 600,
        theme : "dark",
        previewTheme : "dark",
        editorTheme : 'pastel-on-dark',
        path : "{{ url_for('static', filename='editor.md/lib/') }}",
        saveHTMLToTextarea: true,  // Important for sending the content via form submission
    });
</script>
{% endblock %}